%%-------------------------------------------------------------------------------------- Início
\begin{frame}[allowframebreaks, t, fragile]{Ação: Index}
	\begin{itemize}
		\item Ação que recupera \alert{todas as postagens} do blog
		\item (Implicitamente) procura pelo template \alert{index.html.erb} para renderizar a resposta
		\begin{lstlisting}[style=RubyInputStyle, caption=controllers/posts\_controller.rb]
Class PostsController < ApplicationController
	def index
		@posts = Post.all
	end
end 
		\end{lstlisting}		
		\framebreak
		\item \alert{index.html.erb}:
		\begin{lstlisting}[style=RubyInputStyle, caption=views/posts/index.html.erb]
<h1>Posts</h1>
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Body</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
  <% @posts.each do |post| %>
    <tr>
      <td><%= post.title %></td>
      <td><%= post.body  %></td>
      <td><%= link_to 'Show', post %></td>
      <td><%= link_to 'Edit', edit_post_path(post) %></td>
      <td><%= link_to 'Delete', post, method: :delete, 
        data: { confirm: 'Tem certeza ?' } %></td>
    </tr>
  <% end %>
  </tbody>
</table>	
<%= link_to 'New Post', new_post_path %>	
\end{lstlisting}
	\end{itemize}	
\end{frame}